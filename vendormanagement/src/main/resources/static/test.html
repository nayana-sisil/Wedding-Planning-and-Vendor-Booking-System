<!DOCTYPE html>
<html>
<head>
    <title>Vendor API Quick Test</title>
</head>
<body>
<h2>Vendor API Quick Test</h2>

<!-- Add Vendor -->
<h3>Add Vendor</h3>
<input id="name" placeholder="Name">
<input id="serviceType" placeholder="Service Type">
<input id="rate" placeholder="Rate">
<button onclick="addVendor()">Add Vendor</button>

<!-- Search Vendor by ID -->
<h3>Search Vendor by ID</h3>
<input id="searchId" placeholder="Vendor ID">
<button onclick="searchVendor()">Search</button>

<!-- Update Vendor -->
<h3>Update Vendor</h3>
<input id="updateId" placeholder="Vendor ID">
<input id="updateName" placeholder="New Name">
<input id="updateServiceType" placeholder="New Service Type">
<input id="updateRate" placeholder="New Rate">
<button onclick="updateVendor()">Update Vendor</button>

<!-- Delete Vendor -->
<h3>Delete Vendor</h3>
<input id="deleteId" placeholder="Vendor ID">
<button onclick="deleteVendor()">Delete Vendor</button>

<!-- List All Vendors -->
<h3>All Vendors</h3>
<button onclick="getAllVendors()">Get All Vendors</button>

<pre id="result"></pre>

<script>
    const base = "http://localhost:8080/api/vendors";

    function getAllVendors() {
        fetch(base)
            .then(res => res.json())
            .then(data => document.getElementById('result').textContent = JSON.stringify(data, null, 2));
    }

    function addVendor() {
        const vendor = {
            name: document.getElementById('name').value,
            serviceType: document.getElementById('serviceType').value,
            rate: parseFloat(document.getElementById('rate').value)
        };
        fetch(base, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(vendor)
        }).then(() => getAllVendors());
    }

    function searchVendor() {
        const id = document.getElementById('searchId').value;
        fetch(`${base}/${id}`)
            .then(res => res.json())
            .then(data => document.getElementById('result').textContent = JSON.stringify(data, null, 2));
    }

    function updateVendor() {
        const id = document.getElementById('updateId').value;
        const vendor = {
            name: document.getElementById('updateName').value,
            serviceType: document.getElementById('updateServiceType').value,
            rate: parseFloat(document.getElementById('updateRate').value)
        };
        fetch(`${base}/${id}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(vendor)
        }).then(() => getAllVendors());
    }

    function deleteVendor() {
        const id = document.getElementById('deleteId').value;
        fetch(`${base}/${id}`, { method: 'DELETE' })
            .then(() => getAllVendors());
    }
</script>
</body>
</html>
